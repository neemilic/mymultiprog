<title>Загрузка картинки</title>
<link rel="stylesheet" href="static/css/upload.css">
<link rel="stylesheet" href="/static/css/image_upload.css">
<header>
    <p>Student Multiprog - Распознавание текста</p>
</header>
<br>
{% extends "head.html" %}

{% block content %}
<br>
<body>
<div class="a" align="center">
    <p style="background: #c5ebe86f">Загрузите картинку для распознавания текста</p>
    <br>
    <br>
    <form action="/text-recognize/done" method="post" enctype="multipart/form-data">
        <input class="input-file" type="file" id="fileInput" name="file">
        <br>
        <br>
        <br>
        <label for="language">Выберите язык:</label>
        <select name="language" id="language">
            <option value="en">Английский</option>
            <option value="ru">Русский</option>
        </select>
        <br>
        <br>
        <br>
        <p>Загруженная картинка:</p>
        <br>
        <br>
        <img class="user_img" id="previewImg" src="" onerror="this.style.visibility = 'hidden'">
        <br>
        <br>
        <script>
            const fileInput = document.getElementById('fileInput');
            const previewImg = document.getElementById('previewImg');
            document.getElementById('previewImg').style.visibility = "visible";
            fileInput.addEventListener('change', function() {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.addEventListener('load', function() {
                        previewImg.src = reader.result;
                    });
                    reader.readAsDataURL(file);
                }
            });

        </script>
        <br><br>
        <input class="bt" type="submit" value="Распознать текст">
        <br>
        <br>
        <br>
    </form>
</div>
</body>
{% endblock %}